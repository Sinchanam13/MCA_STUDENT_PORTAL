<!DOCTYPE html>
<html>

<head>
    <title>Upload Research</title>
</head>

<body>

    <h2>Upload Research Paper</h2>

    <form id="researchForm">
        <input type="text" name="title" placeholder="Title" required /><br><br>
        <textarea name="description" placeholder="Description"></textarea><br><br>
        <input type="file" name="file" accept=".pdf" required /><br><br>
        <button type="submit">Upload</button>
    </form>

    <p id="msg"></p>

    <script>
        const form = document.getElementById("researchForm");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            const formData = new FormData(form);

            try {
                const res = await fetch("http://localhost:5000/api/notes/upload", {
                    method: "POST",
                    body: formData
                });

                const data = await res.json();

                if (res.ok) {
                    document.getElementById("msg").innerText = "Upload successful ✅";
                    console.log(data);
                } else {
                    document.getElementById("msg").innerText = data.message || "Upload failed ❌";
                }
            } catch (err) {
                document.getElementById("msg").innerText = "Server error ❌";
                console.error(err);
            }
        });
    </script>

</body>

</html>